@page
@model UserProfilModel
@{
}

<p>@Model.UserName !</p>

@if (Model.InputField)
{
	<form method="POST">
		<button class="UserButton" type="submit" asp-page-handler="Cancel">отмена</button>
	</form>
	<div class="panel panel-success">
		<div class="panel-heading text-center"><h4>введите параметры игры</h4></div>
		<div class="panel-body">
			<form asp-action="GameWtiter" method="post">
				<div class="text-danger">@Model.Error</div>
				<br />
				<div class="form-group">
					<label asp-for="GameName">yfpdfybt:</label>
					<input asp-for="GameName" />
				</div>
				<div class="form-group">
					<label asp-for="GameDescription">описание:</label>
					<input asp-for="GameDescription" />
				</div>
				<div class="form-group">
					<label asp-for="GamePath">код игры:</label>
					<input asp-for="GamePath" />
				</div>
				<div class="form-group">
					<label asp-for="UrlPath">картинка:</label>
					<input asp-for="UrlPath" />
				</div>
				<div class="text-center">
					<button class="btn bg-primary" type="submit">готово! asp-page-handler="InputGame"></button>
				</div>
			</form>
		</div>
	</div>
}
else
{
	<form method="POST">
		<button class="UserButton" type="submit" asp-page-handler="Redaction">Редактировать профиль</button>
	</form>
	<form method="POST">
		<button class="UserButton" type="submit" asp-page-handler="Exit">Выход</button>
	</form>
	<form method="POST">
		<button class="UserButton" type="submit" asp-page-handler="NewGame">добавить новую игру</button>
	</form>
	<<h3>Список ваших игр:</h3>
	<div id="ListGame">
		<table class="table table-striped table-bordered">
			<thead>
				<tr>
					<th>Название</th>
					<th>Иконка</th>
					<th>Описание</th>
					<th>Оценка</th>
					<th>Удалить</th>
					<th>Редактировать</th>
					<th>Запустить</th>
				</tr>
			</thead>
			<tbody>
				@foreach (var game in Model.games)
				{
					<tr>
						<td>@game.Title</td>
						<td><img style="width:50px; height:50px;" src="@game.UrlIcon" alt="GameIcon" /></td>
						<td>@game.Description</td>
						<td>@game.Rating</td>
						<td>
							<form method="POST">
								<button type="submit" asp-page-handler="DeleteGame" asp-route-gameId="@game.Id">удалить</button>
							</form>
						</td>
						<td>
							<form method="POST">
								<button type="submit" asp-page-handler="UpdateGame" asp-route-gameId="@game.Id">обновить</button>
							</form>
						</td>
						<td>
							<form method="POST">
								<button type="submit" asp-page-handler="StartGame" asp-route-gameId="@game.Id">играть</button>
							</form>
						</td>
					</tr>
				}
			</tbody>
		</table>
	</div>
}
