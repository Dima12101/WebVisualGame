@model WebVisualGame_MVC.Models.PageModels.GameModel.MainModel
@{
    ViewData["Title"] = "Main";
}

<head>
    <style rel="stylesheet">
        #BlockUser {
            display: block;
            width: 200px;
            margin-top: 10px;
            margin-bottom: 10px;
            border-color: black;
        }

        .UserButton {
            display: block;
            padding: 5px;
            margin: 10px;
            border-color: black;
            background-color: #e2e2e2;
        }
    </style>
</head>

<header>
    <h2 class="panel-heading text-center bg-success">@Model.Game.Title</h2>
</header>

<fieldset class="panel-body bg-warning">
    <h3>Информация об игре:</h3>

    <h4>Описание: @Model.Game.Description</h4>
    <h4>Оценка: @Model.Game.Rating</h4>

    @*<img style="width:100px; height:100px;" src="@Model.Game.UrlIcon" alt="GameIcon" />*@

    <form asp-controller="Game" asp-action="Play" method="get">
        <button class="btn btn-default" type="submit" name="gameIdEncode" value="@WebVisualGame_MVC.Utilities.ProtectData.GetInstance().Encode(Model.Game.Id)" >Играть</button>
    </form>
</fieldset>
@if (Context.User.Identity.IsAuthenticated)
{
<br />
<fieldset class="panel-body bg-info">
    <h3>Оставить отзыв:</h3>
    <form asp-controller="Game" asp-action="SetReview" method="POST">
        <div class="form-group">
            <label asp-for="@Model.Review.Comment">Комментарий:</label>
            <br />
            <textarea type="text" asp-for="@Model.Review.Comment" maxlength="400" placeholder="Не более 400 символов..." rows="4" cols="100"></textarea>
        </div>
        <div class="form-group">
            <label asp-for="@Model.Review.Mark">Оценка:</label>
            <br />
            <input type="radio" asp-for="@Model.Review.Mark" value="1" /> 1 <br />
            <input type="radio" asp-for="@Model.Review.Mark" value="2" /> 2 <br />
            <input type="radio" asp-for="@Model.Review.Mark" value="3" /> 3 <br />
            <input type="radio" asp-for="@Model.Review.Mark" value="4" /> 4 <br />
            <input type="radio" asp-for="@Model.Review.Mark" value="5" checked="checked" /> 5 <br />
        </div>
        <button class="btn btn-default" name="gameIdEncode" value="@WebVisualGame_MVC.Utilities.ProtectData.GetInstance().Encode(Model.Game.Id)" type="submit">Оценить</button>
    </form>
</fieldset>
}
<br />
<fieldset class="panel-body bg-warning">
    <h3>Отзывы:</h3>
    <div id="ListCommets" class="scroll">
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>Имя</th>
                    <th>Комментарий</th>
                    <th>Оценка</th>
                    <th>Дата</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var review in Model.Reviews)
                {
                    <tr>
                        <td>@review.UserName</td>
                        <td>@review.Comment</td>
                        <td>@review.Mark</td>
                        <td>@review.Date</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</fieldset>
